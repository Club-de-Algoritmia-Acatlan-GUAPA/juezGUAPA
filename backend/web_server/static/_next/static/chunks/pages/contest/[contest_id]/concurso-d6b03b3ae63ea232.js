(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[573],{2042:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/contest/[contest_id]/concurso",function(){return n(8974)}])},8974:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h}});var r=n(5893),l=n(1163),i=n(4869),s=n(7294);function c(e){let{startTime:t,endTime:n}=e;(0,s.useRef)(null);let[l,c]=(0,s.useState)("0"),[a,d]=(0,s.useState)(!1);(0,s.useEffect)(()=>{o();let e=setInterval(o,1e3);return()=>clearInterval(e)},[t,n]);let o=()=>{let e=new Date;if(n){let r=new Date(n).getTime()-e.getTime();if(t){let l=(1-r/(new Date(n).getTime()-new Date(t).getTime()))*100;l<=100?c("".concat(l)):a||d(!0)}}};return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"flex flex-col w-full",children:a?(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"flex justify-center gap-2",children:[(0,r.jsx)(i.Z,{type:"h2",weight:"regular",children:" El concurso ha terminado"}),(0,r.jsx)(i.Z,{type:"h2",color:"blue",weight:"regular",clickable:!0,children:" ver scoreboard TODO"})]})}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"h-5 w-full relative bg-[#D9D9D9] rounded-full"}),(0,r.jsx)("div",{style:{width:l+"%"},className:"relative z-3 h-5 top-[-1.25rem] bg-[#4AAE4B] rounded-full"})]})})})}function a(e){let{name:t,startTime:n,endTime:l}=e;function s(e){return e?e.toString():""}return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"flex flex-col w-full items-center",children:[(0,r.jsx)(i.Z,{type:"h1",weight:"regular",children:t}),(0,r.jsxs)("div",{className:"flex justify-between w-full",children:[(0,r.jsxs)("div",{className:"flex gap-4",children:[(0,r.jsx)(i.Z,{type:"h2",weight:"light",children:"Inicio : "}),(0,r.jsx)(i.Z,{type:"h2",children:s(n)})]}),(0,r.jsxs)("div",{className:"flex gap-4",children:[(0,r.jsx)(i.Z,{type:"h2",weight:"light",children:"Final : "}),(0,r.jsx)(i.Z,{type:"h2",children:s(l)})]})]}),(0,r.jsx)(c,{startTime:n,endTime:l}),(0,r.jsxs)("div",{className:"flex justify-between w-full",children:[(0,r.jsxs)("div",{className:"flex gap-4",children:[(0,r.jsx)(i.Z,{type:"h2",weight:"light",children:"Tiempo transcurrido : "}),(0,r.jsxs)(i.Z,{type:"h2",children:[" ","TODO"]})]}),(0,r.jsxs)("div",{className:"flex gap-4",children:[(0,r.jsx)(i.Z,{type:"h2",weight:"light",children:"Tiempo restante : "}),(0,r.jsx)(i.Z,{type:"h2",children:"TODO"})]})]})]})})}function d(e){let{title:t="Prueba",content:n=""}=e;return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:" bg-[var(--primary-bg-color)] rounded-[var(--border-radius)] ",children:[(0,r.jsx)("div",{className:" text-center bg-[var(--secondary-bg-color)] rounded-t-[var(--border-radius)] ",children:(0,r.jsx)(i.Z,{type:"h2",weight:"black",children:t})}),(0,r.jsx)("div",{className:" p-[var(--primary-padding)] ",children:n})]},t)})}var o=n(2622);let u=()=>{var e,t;let n=(0,l.useRouter)(),{contest_id:i}=n.query,s=(0,o.Y)();return"unauthenticated"===status?(0,r.jsx)("div",{children:"logeate"}):"loading"===status?(0,r.jsx)("div",{children:"Loading"}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"flex flex-col bg-[#E7EBEF] p-[20px] rounded-[10px] gap-[5px]",children:(0,r.jsx)(a,{name:null!==(t=null==s?void 0:s.name)&&void 0!==t?t:"",startTime:null==s?void 0:s.startTime,endTime:null==s?void 0:s.endTime})}),null==s?void 0:null===(e=s.bases)||void 0===e?void 0:e.map(e=>{let{title:t,content:n}=e;return(0,r.jsx)(d,{title:t,content:n},t)})]})};u.getLayout=o.dI;var h=u},2622:function(e,t,n){"use strict";n.d(t,{dI:function(){return f},Y:function(){return x}});var r,l,i=n(5893),s=n(9734),c=n(8335),a=n(7294),d=n(1163),o=n(4869);function u(e){let{selectedTab:t}=e,n=(0,d.useRouter)(),r=n.asPath.split("/").slice(-1)[0],s=x();return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("div",{className:"flex gap-7 items-center",children:Object.keys(l).map(e=>{let t=l[e];return(0,i.jsx)(o.Z,{className:t===r?"selected":"",type:"h3",weight:"bold",clickable:!0,color:t===r?"blue":"black",href:"/contest/".concat(null==s?void 0:s.id,"/").concat(t),children:e},t)})})})}(r=l||(l={})).Problemas="problems",r.Scoreboard="scoreboard",r.Concurso="concurso",r.Submits="submits",r.Aclaraciones="acla";let h=(0,a.createContext)({id:"",name:"",startTime:void 0,endTime:void 0,bases:[]});function x(){return(0,a.useContext)(h)}function m(e){let{children:t}=e,n=(0,d.useRouter)(),{contest_id:r}=n.query,{data:l,error:a}=(0,s.ZP)("/api/contest/".concat(r),c._i);return a?(0,i.jsx)("div",{children:"Failed to load"}):l?(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(h.Provider,{value:l,children:t})}):(0,i.jsx)("div",{children:"Loading..."})}function f(e){return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("div",{className:"flex flex-col gap-6 layout",children:(0,i.jsxs)(m,{children:[(0,i.jsx)(u,{}),e]})})})}},8335:function(e,t,n){"use strict";n.d(t,{Md:function(){return i},XH:function(){return r},_i:function(){return l}}),n(3299),n(1163);let r=e=>{let t=e=>fetch(e).then(e=>e.json());return console.log(Promise.all(e.map(t))),Promise.all(e.map(t))},l=e=>fetch(e).then(e=>e.json());function i(e,t){var n=new URLSearchParams;return Object.entries(t).forEach(e=>n.append(e[0],e[1])),fetch("http://localhost:8000".concat(e),{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",credentials:"include",withCredentials:"true"},body:n})}}},function(e){e.O(0,[299,734,774,888,179],function(){return e(e.s=2042)}),_N_E=e.O()}]);